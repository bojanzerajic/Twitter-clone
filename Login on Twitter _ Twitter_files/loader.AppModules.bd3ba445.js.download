(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{"+Aie":function(e,t,n){var s;!function(o,i,r){if(o){for(var a,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},h={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},u={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)c[111+p]="f"+p;for(p=0;p<=9;++p)c[p+96]=p.toString();_.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},_.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},_.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},_.prototype.reset=function(){return this._callbacks={},this._directMap={},this},_.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function e(t,n){return null!==t&&t!==i&&(t===n||e(t.parentNode,n))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},_.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},_.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(c[t]=e[t]);a=null},_.init=function(){var e=_(i);for(var t in e)"_"!==t.charAt(0)&&(_[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},_.init(),o.Mousetrap=_,e.exports&&(e.exports=_),void 0===(s=function(){return _}.call(t,n,t,e))||(e.exports=s)}function d(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function m(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return c[e.which]?c[e.which]:h[e.which]?h[e.which]:String.fromCharCode(e.which).toLowerCase()}function f(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function b(e,t,n){return n||(n=function(){if(!a)for(var e in a={},c)e>95&&e<112||c.hasOwnProperty(e)&&(a[c[e]]=e);return a}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function g(e,t){var n,s,o,i=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),o=0;o<n.length;++o)s=n[o],u[s]&&(s=u[s]),t&&"keypress"!=t&&l[s]&&(s=l[s],i.push("shift")),f(s)&&i.push(s);return{key:s,modifiers:i,action:t=b(s,i,t)}}function _(e){var t=this;if(e=e||i,!(t instanceof _))return new _(e);t.target=e,t._callbacks={},t._directMap={};var n,s={},o=!1,r=!1,a=!1;function c(e){e=e||{};var t,n=!1;for(t in s)e[t]?n=!0:s[t]=0;n||(a=!1)}function h(e,n,o,i,r,a){var c,h,l,u,p=[],d=o.type;if(!t._callbacks[e])return[];for("keyup"==d&&f(e)&&(n=[e]),c=0;c<t._callbacks[e].length;++c)if(h=t._callbacks[e][c],(i||!h.seq||s[h.seq]==h.level)&&d==h.action&&("keypress"==d&&!o.metaKey&&!o.ctrlKey||(l=n,u=h.modifiers,l.sort().join(",")===u.sort().join(",")))){var m=!i&&h.combo==r,b=i&&h.seq==i&&h.level==a;(m||b)&&t._callbacks[e].splice(c,1),p.push(h)}return p}function l(e,n,s,o){t.stopCallback(n,n.target||n.srcElement,s,o)||!1===e(n,s)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function u(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=m(e);n&&("keyup"!=e.type||o!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):o=!1)}function p(e,t,i,r){function h(t){return function(){a=t,++s[e],clearTimeout(n),n=setTimeout(c,1e3)}}function u(t){l(i,t,e),"keyup"!==r&&(o=m(t)),setTimeout(c,10)}s[e]=0;for(var p=0;p<t.length;++p){var d=p+1===t.length?u:h(r||g(t[p+1]).action);b(t[p],d,r,e,p)}}function b(e,n,s,o,i){t._directMap[e+":"+s]=n;var r,a=(e=e.replace(/\s+/g," ")).split(" ");a.length>1?p(e,a,n,s):(r=g(e,s),t._callbacks[r.key]=t._callbacks[r.key]||[],h(r.key,r.modifiers,{type:r.action},o,e,i),t._callbacks[r.key][o?"unshift":"push"]({callback:n,modifiers:r.modifiers,action:r.action,seq:o,level:i,combo:e}))}t._handleKey=function(e,t,n){var s,o=h(e,t,n),i={},u=0,p=!1;for(s=0;s<o.length;++s)o[s].seq&&(u=Math.max(u,o[s].level));for(s=0;s<o.length;++s)if(o[s].seq){if(o[s].level!=u)continue;p=!0,i[o[s].seq]=1,l(o[s].callback,n,o[s].combo,o[s].seq)}else p||l(o[s].callback,n,o[s].combo);var d="keypress"==n.type&&r;n.type!=a||f(e)||d||c(i),r=p&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var s=0;s<e.length;++s)b(e[s],t,n)},d(e,"keypress",u),d(e,"keydown",u),d(e,"keyup",u)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},"2qJZ":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a}));var s=n("wrlS"),o=n("8jkQ");const i="twitter.com",r="mobile.twitter.com";function a(){if(s.a.isTrue("responsive_web_fake_root_twitter_domain_for_testing"))return!0;const e=o.b.get();return Boolean(e&&e.hostname===i)}},EfWO:function(e,t,n){"use strict";var s=n("ssRi"),o=n("s+nu");function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){o.isString(e)&&(e=v(e));return e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var r=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(h),u=["%","/","?",";","#"].concat(l),p=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=n("prCu");function v(e,t,n){if(e&&o.isObject(e)&&e instanceof i)return e;var s=new i;return s.parse(e,t,n),s}i.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),a=-1!==i&&i<e.indexOf("#")?"?":"#",h=e.split(a);h[0]=h[0].replace(/\\/g,"/");var v=e=h.join(a);if(v=v.trim(),!n&&1===e.split("#").length){var y=c.exec(v);if(y)return this.path=v,this.href=v,this.pathname=y[1],y[2]?(this.search=y[2],this.query=t?_.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var S=r.exec(v);if(S){var w=(S=S[0]).toLowerCase();this.protocol=w,v=v.substr(S.length)}if(n||S||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===v.substr(0,2);!E||S&&b[S]||(v=v.substr(2),this.slashes=!0)}if(!b[S]&&(E||S&&!g[S])){for(var k,T,O=-1,C=0;C<p.length;C++){-1!==(I=v.indexOf(p[C]))&&(-1===O||I<O)&&(O=I)}-1!==(T=-1===O?v.lastIndexOf("@"):v.lastIndexOf("@",O))&&(k=v.slice(0,T),v=v.slice(T+1),this.auth=decodeURIComponent(k)),O=-1;for(C=0;C<u.length;C++){var I;-1!==(I=v.indexOf(u[C]))&&(-1===O||I<O)&&(O=I)}-1===O&&(O=v.length),this.host=v.slice(0,O),v=v.slice(O),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var x=this.hostname.split(/\./),A=(C=0,x.length);C<A;C++){var L=x[C];if(L&&!L.match(d)){for(var D="",R=0,j=L.length;R<j;R++)L.charCodeAt(R)>127?D+="x":D+=L[R];if(!D.match(d)){var U=x.slice(0,C),M=x.slice(C+1),B=L.match(m);B&&(U.push(B[1]),M.unshift(B[2])),M.length&&(v="/"+M.join(".")+v),this.hostname=U.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=s.toASCII(this.hostname));var N=this.port?":"+this.port:"",K=this.hostname||"";this.host=K+N,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!f[w])for(C=0,A=l.length;C<A;C++){var q=l[C];if(-1!==v.indexOf(q)){var F=encodeURIComponent(q);F===q&&(F=escape(q)),v=v.split(q).join(F)}}var H=v.indexOf("#");-1!==H&&(this.hash=v.substr(H),v=v.slice(0,H));var z=v.indexOf("?");if(-1!==z?(this.search=v.substr(z),this.query=v.substr(z+1),t&&(this.query=_.parse(this.query)),v=v.slice(0,z)):t&&(this.search="",this.query={}),v&&(this.pathname=v),g[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){N=this.pathname||"";var X=this.search||"";this.path=N+X}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",s=this.hash||"",i=!1,r="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(r=_.stringify(this.query));var a=this.search||r&&"?"+r||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),s&&"#"!==s.charAt(0)&&(s="#"+s),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+s},i.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,s=Object.keys(this),r=0;r<s.length;r++){var a=s[r];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),h=0;h<c.length;h++){var l=c[h];"protocol"!==l&&(n[l]=e[l])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var u=Object.keys(e),p=0;p<u.length;p++){var d=u[p];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||b[e.protocol])n.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",_=n.search||"";n.path=f+_}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),S=y||v||n.host&&e.pathname,w=S,E=n.pathname&&n.pathname.split("/")||[],k=(m=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),S=S&&(""===m[0]||""===E[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=m;else if(m.length)E||(E=[]),E.pop(),E=E.concat(m),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search)){if(k)n.hostname=n.host=E.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift());return n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=E.slice(-1)[0],O=(n.host||e.host||E.length>1)&&("."===T||".."===T)||""===T,C=0,I=E.length;I>=0;I--)"."===(T=E[I])?E.splice(I,1):".."===T?(E.splice(I,1),C++):C&&(E.splice(I,1),C--);if(!S&&!w)for(;C--;C)E.unshift("..");!S||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),O&&"/"!==E.join("/").substr(-1)&&E.push("");var P,x=""===E[0]||E[0]&&"/"===E[0].charAt(0);k&&(n.hostname=n.host=x?"":E.length?E.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift()));return(S=S||n.host&&E.length)&&!x&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},aD6h:function(e,t,n){"use strict";var s=n("KEM+"),o=n.n(s),i=n("ERkP"),r=n("Hde2"),a=n("yt7X"),c=n("496R");class h extends i.PureComponent{render(){return this.props.hideEUBanner?null:i.createElement(r.a,null,i.createElement(a.a,null))}}o()(h,"defaultProps",{hideEUBanner:!1}),t.a=Object(c.a)(h)},donR:function(e,t,n){"use strict";n.r(t),n.d(t,"inputDetect",(function(){return Et})),n.d(t,"BottomEUBanner",(function(){return kt})),n.d(t,"DtabBar",(function(){return Tt})),n.d(t,"GlobalKeyboardShortcuts",(function(){return Ot})),n.d(t,"LivePipeline",(function(){return Ct})),n.d(t,"ModalSheet",(function(){return It})),n.d(t,"SmartLockPrompt",(function(){return Pt})),n.d(t,"Seo",(function(){return xt})),n.d(t,"Toast",(function(){return At})),n.d(t,"appReloader",(function(){return Lt})),n.d(t,"badgeTimers",(function(){return Dt})),n.d(t,"bindKeyboardShortcuts",(function(){return Rt})),n.d(t,"ie11Reflower",(function(){return jt})),n.d(t,"multiAccountListFetcher",(function(){return Ut})),n.d(t,"redirectEmailUser",(function(){return Mt})),n.d(t,"scribeExternalReferer",(function(){return Bt})),n.d(t,"getScreenReaderShortcutsDataAttribute",(function(){return Nt})),n.d(t,"altSvc",(function(){return Kt})),n.d(t,"AppInstallOnLandingPrompt",(function(){return qt}));var s={};n.r(s),n.d(s,"initialize",(function(){return _})),n.d(s,"detectedTypes",(function(){return v})),n.d(s,"detectedType",(function(){return y})),n.d(s,"register",(function(){return S})),n.d(s,"registerSome",(function(){return w})),n.d(s,"registerEvery",(function(){return E})),n.d(s,"unregister",(function(){return k})),n.d(s,"reset",(function(){return T})),n.d(s,"KEYBOARD",(function(){return h})),n.d(s,"MOUSE",(function(){return l})),n.d(s,"_private",(function(){return O}));var o=n("3+LL"),i=n("KEM+"),r=n.n(i),a=n("z0MJ"),c=n.n(a);const h="keyboard",l="mouse",u=["textarea","input"];let p=[];const d={[h]:!1,[l]:!1};class m{constructor(e){r()(this,"_handleTimerEnd",()=>{this._count>=3&&this._handleDetected(),this._reset()}),r()(this,"_handleDetected",()=>{this._reset(),this.detach(),this.detected()}),r()(this,"_reset",()=>{clearTimeout(this._timer),this._timer=void 0,this._count=0}),r()(this,"_handleMouseMove",()=>{this._count=this._count+1,this._count>=3?this._handleDetected():this._timer||(this._timer=setTimeout(this._handleTimerEnd,500))}),r()(this,"attach",()=>{document.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("touchend",this._reset)}),r()(this,"detach",()=>{document.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("touchend",this._reset)}),this.detected=e,this._count=0}}class f{constructor(e){r()(this,"_handleKeyDown",e=>{const{altKey:t,ctrlKey:n,metaKey:s,target:o={}}=e,i=o instanceof HTMLInputElement?o.nodeName:void 0;(t||n||s||!((e="")=>-1!==u.indexOf(e.toLowerCase()))(i))&&(this.detach(),this.detected())}),r()(this,"attach",()=>{document.addEventListener("keydown",this._handleKeyDown)}),r()(this,"detach",()=>{document.removeEventListener("keydown",this._handleKeyDown)}),this.detected=e}}function b(e){d[e]=!0;const t=p.filter(({matches:e})=>e()),n=p.filter(({matches:e})=>!e());p=n,t.forEach(({callback:e})=>e())}let g;const _=()=>{g=[new f(()=>b(h)),new m(()=>b(l))],g.forEach(e=>e.attach())},v=()=>Object.keys(d).filter(e=>d[e]),y=e=>d[e],S=(e,t)=>{const n=()=>d[t];n()?c()(e):p.push({matches:n,callback:e})},w=(e,t)=>{const n=()=>t.some(e=>d[e]);n()?c()(e):p.push({matches:n,callback:e})},E=(e,t)=>{const n=()=>t.every(e=>d[e]);n()?c()(e):p.push({matches:n,callback:e})},k=e=>{const t=p.indexOf(e);t>-1&&p.splice(t,1)},T=()=>{p=[],Object.keys(d).forEach(e=>{d[e]=!1}),g.forEach(e=>e.detach())},O={MOUSE_INTERVAL_TIME_IN_MS:500,SUCCESSIVE_MOUSE_EVENTS:3,detected:b};var C=n("0KEI"),I=n("wrlS");var P=(e,t)=>{if(I.a.isTrue("responsive_web_alt_svc")){const n=t(Object(C.d)("APP_INITIALIZATION_ALT_SVC")({}));e.AltSvc.fetch().catch(n)}},x=n("ERkP"),A=(n("x4t0"),n("rxPX"));const L=(e,t)=>t.location.pathname.includes("/intent/"),D=(e,t)=>t.location.pathname.includes("/login");var R=Object(A.a)().propsFromState(()=>({isIntentRoute:L,isLoginRoute:D})).adjustStateProps(({isIntentRoute:e,isLoginRoute:t})=>({hideAppPrompt:e||t})),j=n("v6aA"),U=n("RxYA"),M=n("TnY3");class B extends x.Component{constructor(e,t){super(e,t),r()(this,"_handleClose",()=>{this.setState({showPrompt:!1})});const{loggedInUserId:n}=this.context,s=!e.hideAppPrompt&&!n&&I.a.isTrue("responsive_web_use_app_prompt_enabled");this.state={showPrompt:s}}render(){return this.state.showPrompt?x.createElement(U.a,{isHalfSheet:!0,onClose:this._handleClose,onlyShowOnce:!0}):null}}r()(B,"contextType",j.a);var N=Object(M.a)(R(B)),K=n("RqPI"),q=n("k49u"),F=n("Kzn8"),H=n.n(F),z=n("auX9"),X=n("fs1G"),W=n("sJRb"),Y=n("B5iK"),V=n("l0YN");const G=(e,t=1e3)=>{window.requestIdleCallback?window.requestIdleCallback(()=>e.fire()):setTimeout(()=>e.fire(),t)};var J=e=>{if(!K.e(e.getState()))return;const t=e.dispatch(Object(C.d)("BADGE_TIMERS")({showToast:!1,[q.a.AccessDeniedByBouncer]:{customAction:X.a}})),n=n=>e.dispatch(n).catch(t),s=new Y.b(3e4).interval(()=>{"background"!==H.a.currentState&&(n(Object(V.b)()),Object(z.b)(e.getState()).forEach(n))});s.start(),G(s);const o=new Y.b(3e4).interval(()=>{"background"!==H.a.currentState&&e.dispatch(W.b.fetchInitialOrTop({polling:!0})).catch(t)});o.start(),G(o);H.a.addEventListener("change",e=>{"active"===e&&(G(s),G(o))})},Z=n("+Aie"),$=n.n(Z);var Q=n("aD6h"),ee=(n("DZ+c"),n("kYxP"),n("Cm4o"),n("Hde2")),te=n("P1r1"),ne=Object(A.a)().propsFromState(()=>({dtabBarInfo:te.l})).adjustStateProps(({dtabBarInfo:e})=>({dtabAll:e&&e.dtabAll,dtabRweb:e&&e.dtabRweb,hide:e&&e.hide,ttsToken:e&&e.ttsToken})).propsFromActions(()=>({setDtabBarInfo:te.B})),se=n("8jkQ"),oe=n("/yvb"),ie=n("mw9i"),re=n("t62R"),ae=n("rHpw");class ce extends x.PureComponent{constructor(e,t){super(e,t),r()(this,"_renderButtons",()=>x.createElement(x.Fragment,null,x.createElement(oe.a,{onClick:this._handleInfo,size:"small",type:"destructive"},"Info"),x.createElement(oe.a,{onClick:this._handleClear,size:"small",type:"destructive"},"Clear"),x.createElement(oe.a,{onClick:this._handleClose,size:"small",type:"destructive"},"Hide"))),r()(this,"_handleInfo",()=>{const e=this._getOverrides();window.prompt(e.join("\n"),window.encodeURIComponent(e.join(";")))}),r()(this,"_getOverrides",()=>{const{dtabAll:e,ttsToken:t}=this.props;let n=[];return e&&!t?n=e:t&&(n=["tts_token="+t]),n.filter(e=>!!e)}),r()(this,"_handleClear",()=>{const e="OK to clear overrides?\n"+this._getOverrides().join("\n");if(window.confirm(e)){const e=new URL(se.b.get());e.searchParams.set("dtab_local",""),e.searchParams.set("tts_token",""),se.b.navigateTo(e.toString())}}),r()(this,"_handleClose",()=>{const{dtabAll:e,dtabRweb:t,ttsToken:n,setDtabBarInfo:s}=this.props;this.setState({show:!1}),s({dtabAll:e,dtabRweb:t,ttsToken:n,hide:!0})}),r()(this,"_shouldShow",()=>{const{dtabAll:e,ttsToken:t,hide:n}=this.props;return!(n||!e&&!t)}),this.state={show:this._shouldShow()}}render(){const{dtabAll:e,ttsToken:t}=this.props,n=t||e?x.createElement(ee.a,{style:he.root},x.createElement(ie.a,{isLarge:!0,style:he.container,withGutter:!0},x.createElement(re.c,{color:"whiteOnColor",numberOfLines:1,size:"small",style:he.text},"Staging override is active"),this._renderButtons())):null;return this.state.show?n:null}}r()(ce,"defaultProps",{hide:!1});const he=ae.a.create(e=>({root:{backgroundColor:e.colors.red},container:{alignItems:"center",flexDirection:"row",height:e.spaces.xLarge,justifyContent:"space-between"},text:{width:"100%"}}));var le=ne(ce),ue=n("OrGc"),pe=n("rRIm"),de=n("aITJ");var me={init:e=>{const t=t=>{if("active"===t&&e&&e.body){const t=e.body.style.display;e.body.style.display="none",e.body.clientHeight,e.body.style.display=t}};de.a.isDesktopOS()&&de.a.isIE()&&H.a.addEventListener("change",t)}},fe=(n("JtPf"),n("pXBW")),be=n("nS6Z");function ge(e){return e.json().then(e=>e.errors.some(e=>392===e.code))}function _e({promiseFactory:e,condition:t,sideEffect:n}){return(...s)=>{const o=e.apply(void 0,s);return o.then(t).then(e=>{e&&n()}).then(()=>o,()=>o)}}function ve(e){return Object.keys(ye(e))}function ye(e){return e.reduce((e,t)=>(e[t]=!0,e),{})}class Se{constructor({makeEventSource:e,callback:t,topics:n}){r()(this,"topics",[]),r()(this,"backoffDuration",0),r()(this,"_handleMessage",({data:e})=>{try{const t=JSON.parse(e);this.connection&&"/system/config"===t.topic&&(this.connection.hasConfig=!0),this.callback(t)}catch(e){}}),r()(this,"_handleError",()=>{if(!this.connection||this.connection.eventSource.readyState===this.connection.eventSource.OPEN)return;const e=this.connection;e&&e.eventSource.readyState===e.eventSource.CONNECTING&&function(e,t){const n=ye(e),s=Object.keys(n),o=ve(t);return s.length===o.length&&o.every(e=>n[e])}(e.topics,this._getTopicsForAutoSubscribe())||(this._cleanup(),this.connection&&this.connection.hasConfig?this.backoffDuration=1e3:this.backoffDuration=Math.max(1e3,Math.min(2*this.backoffDuration,6e4)),this.backoffTimeoutId=setTimeout(this._connect,this.backoffDuration*(.5+Math.random())))}),r()(this,"_connect",()=>{this._cleanup();const e=this._getTopicsForAutoSubscribe();this.makeEventSource(e).then(t=>{if("object"!=typeof t)throw new Error("EventSource must be defined");t.addEventListener("message",this._handleMessage),t.addEventListener("error",this._handleError),this.connection={eventSource:t,topics:e,hasConfig:!1}}).catch(()=>{this._handleError()})}),this.makeEventSource=e,this.callback=t,this.setTopics(n),this._connect()}setTopics(e){this.topics=e}getAutoSubscribedTopics(){return this.connection?this.connection.topics:[]}_getTopicsForAutoSubscribe(){return this.topics.slice(0,Se.MAX_AUTO_SUBSCRIBE_TOPICS)}_cleanup(){const e=this.connection;e&&(e.eventSource.removeEventListener("message",this._handleMessage),e.eventSource.removeEventListener("error",this._handleError),e.eventSource.close(),this.connection=null),clearTimeout(this.backoffTimeoutId)}teardown(){this._cleanup()}}r()(Se,"MAX_AUTO_SUBSCRIBE_TOPICS",20);var we=n("+d3d");class Ee{constructor(e){r()(this,"sessionId",""),r()(this,"pendingState",{topics:[],forceSubscribeAll:!1}),r()(this,"appliedState",{topics:[]}),r()(this,"setTopics",(e=[])=>{this.pendingState.topics=ve(e),this._applyPendingState()}),r()(this,"_subscribeAll",()=>{this.pendingState.forceSubscribeAll=!0,this._applyPendingState()}),r()(this,"_applyPendingState",()=>{const e=this.pendingState.forceSubscribeAll?this.pendingState.topics:this.pendingState.topics.filter(e=>-1===this.appliedState.topics.indexOf(e)),t=this.appliedState.topics.filter(e=>-1===this.pendingState.topics.indexOf(e)),n=!this.sessionId,s=0===e.length&&0===t.length;n||s||(this.appliedState={topics:this.pendingState.topics},this.pendingState={topics:this.appliedState.topics,forceSubscribeAll:!1},this.updateSubscriptions({toSubscribe:e,toUnsubscribe:t,sessionId:this.sessionId}))});const{updateSubscriptions:t,throttlePeriod:n=Ee.UPDATE_SUBSCRIPTIONS_THROTTLE}=e;this.updateSubscriptions=t,this.throttlePeriod=n,null!==n&&n>=0&&(this._applyPendingState=Object(we.a)(this._applyPendingState,n,{leading:!1}))}setConfig(e=null,t=[]){if(clearInterval(this.intervalId),!e||!e.config)return;this.sessionId=e.config.session_id,this.appliedState={topics:t},this._applyPendingState();const n=(e.config.subscription_ttl_millis||Ee.DEFAULT_TTL)-Ee.TIMEOUT_PREEMPT_DURATION;this.intervalId=setInterval(this._subscribeAll,n)}teardown(){clearInterval(this.intervalId),this.updateSubscriptions({toSubscribe:[],toUnsubscribe:this.appliedState.topics,sessionId:this.sessionId})}}r()(Ee,"DEFAULT_TTL",12e4),r()(Ee,"TIMEOUT_PREEMPT_DURATION",2e4),r()(Ee,"UPDATE_SUBSCRIPTIONS_THROTTLE",1e3);class ke{constructor({makeEventSource:e,updateSubscriptions:t}){r()(this,"isSuspended",!1),r()(this,"eventSourceConnector",null),r()(this,"subscriptionsByTopic",{}),r()(this,"_closeEventSource",()=>{this._clearExpiryTimeout(),this.livePipelineResubscriber.setConfig(null),this.eventSourceConnector&&(this.eventSourceConnector.teardown(),this.eventSourceConnector=null)}),r()(this,"_restartEventSource",()=>{this._closeEventSource(),this._reconcileTopics()}),r()(this,"_handleMessage",({topic:e,payload:t})=>{e===ke.SYSTEM_CONFIG_TOPIC&&this.eventSourceConnector&&this.livePipelineResubscriber.setConfig(t,this.eventSourceConnector.getAutoSubscribedTopics());const n=Promise.resolve(t);return(this.subscriptionsByTopic[e]||[]).map(e=>n.then(e.callback))}),this.makeEventSource=e,this.livePipelineResubscriber=new Ee({updateSubscriptions:_e({promiseFactory:t,condition:ge,sideEffect:this._restartEventSource})})}teardown(){this._clearExpiryTimeout(),this.subscriptionsByTopic={},this.livePipelineResubscriber.teardown(),this.eventSourceConnector&&(this.eventSourceConnector.teardown(),this.eventSourceConnector=null)}suspend(){this.isSuspended=!0,this._reconcileTopics()}resume(){this.isSuspended=!1,this._reconcileTopics()}subscribeTopic(e,t){if(!e)return{teardown:()=>{}};const n={topic:e,callback:t};return this.subscriptionsByTopic[e]=this.subscriptionsByTopic[e]||[],this.subscriptionsByTopic[e].push(n),this._reconcileTopics(),{teardown:()=>{const t=(this.subscriptionsByTopic[e]||[]).filter(e=>e!==n);0===t.length?delete this.subscriptionsByTopic[e]:this.subscriptionsByTopic[e]=t,this._reconcileTopics()}}}_reconcileTopics(){const e=this.isSuspended?[]:Object.keys(this.subscriptionsByTopic),t=e.length>0;t&&this._clearExpiryTimeout(),this.livePipelineResubscriber.setTopics(e),this.eventSourceConnector&&this.eventSourceConnector.setTopics(e),t&&!this.eventSourceConnector?(this._closeEventSource(),this.eventSourceConnector=new Se({makeEventSource:this.makeEventSource,callback:this._handleMessage,topics:e})):t||!this.eventSourceConnector||this.connectionExpiryTimeoutId||(this.connectionExpiryTimeoutId=setTimeout(this._closeEventSource,ke.UNUSED_CONNECTION_EXPIRY))}_clearExpiryTimeout(){clearTimeout(this.connectionExpiryTimeoutId),this.connectionExpiryTimeoutId=null}}let Te;r()(ke,"SYSTEM_CONFIG_TOPIC","/system/config"),r()(ke,"UNUSED_CONNECTION_EXPIRY",3e4);var Oe={isSupported:()=>"EventSource"in window&&I.a.isTrue("livepipeline_client_enabled"),isSupportedAndReady(){return this.isSupported()&&!!Te},create(e,t){if(!this.isSupported())throw new Error("This browser does not support LivePipeline");if(Te)throw new Error("LivePipeline should only be initialized once");return Te=new ke({makeEventSource:e=>{const n=(e=>{const n=e.map(encodeURIComponent).join(","),s=e=>e+"/live_pipeline/events?topic="+n,o=s(be.b),i=t.getReplacementHost(new URL(o));return i?s("https://"+i):o})(e);return Promise.resolve(new window.EventSource(n,{withCredentials:!0}))},updateSubscriptions:t=>e.LivePipeline.updateSubscriptions(t).catch(e=>{if(e)if(e instanceof fe.a&&Object(q.c)(e,q.a.SessionNotFound))Te&&Te._restartEventSource();else if(!(e instanceof fe.a)&&e instanceof Error)return Promise.reject(e);return Promise.resolve()})}),H.a.addEventListener("change",e=>this._handleAppStateChange(e)),Te},get(){if(!Te)throw new Error("LivePipeline instance has not been initialized");return Te},destroy(){Te&&Te.teardown(),Te=void 0},_handleAppStateChange(e){"active"===e?this.get().resume():this.get().suspend()}},Ce=n("pf9B");var Ie=e=>{const t=Object(C.d)("MULTI_ACCOUNT_LIST_UPDATER"),n=e.dispatch(t({showToast:!1,[q.a.AccessDeniedByBouncer]:{customAction:X.a}})),s=t=>e.dispatch(t).catch(n);(window.requestIdleCallback||window.requestAnimationFrame)(()=>{s(Object(z.d)()).then(()=>{Object(z.b)(e.getState()).forEach(s)})})},Pe=(n("MvUL"),n("9cU2"));const xe=["/login/error","/i/sms_login"];var Ae=e=>{const t=!K.e(e),n=K.c(e);if(t&&n&&Pe.a){const{pathname:e}=Pe.a.location;-1===xe.indexOf(e)&&Pe.a.replace({pathname:"/i/sms_login"})}},Le=n("Mx3A"),De=n("YeIG"),Re=n("cnVF"),je=n("mrHL");const Ue={client:Re.r,page:"external",action:"referred"};var Me=(e,t,n)=>{const s=e=>n.dispatch(Object(C.d)(e)({})),o=Pe.a&&Pe.a.location.query,i=Le.c({query:o,httpReferer:document.referrer||"",requestUrl:window.location.href});if(Object(De.a)(i))return Promise.resolve();if(i.referer&&!se.b.isExternalUrl(i.referer)&&!se.b.isInternalRedirect(i.referer))return Promise.resolve();i.referer||(i.referer=""),i.referral_details_str||(i.referral_details_str=""),i.referral_type||(i.referral_type=0);const r=Object(je.a)("external_referer");r&&(i.external_referer_cookie_value=r);const a=i.referral_type===Le.a.Access,c=Ue;r&&a&&(c.action="set_access_referer_cookie");const h=t.createEventObject(c,"client_event",i),l=t.createPayload([h]);let u;u=i?e.Ocf.referer({landing_url:i.url,referral_details:i.referral_details_str||void 0,referrer_url:i.referer||void 0}).catch(()=>s("OCF_EXTERNAL_REFERER")):Promise.resolve();const p=e.Jot.externalReferer(l).then(e=>{const t=Le.b(e&&e[0]);t&&Object(je.b)(t)}).catch(()=>s("SCRIBE_EXTERNAL_REFERER"));return Promise.all([p,u])},Be=n("97Jx"),Ne=n.n(Be),Ke=n("6/RC"),qe=n("aHKU"),Fe=n.n(qe),He=n("EfWO"),ze=n("ikiw"),Xe=n("2qJZ");const We={"/search":["q"]},Ye=e=>Ke.canUseDOM?new window.URL(e):new He.URL(e);var Ve=new class{constructor(e){this.locales=e}_getHrefLangForLang(e,t){const n=Ye(this.getCanonicalUrl(e));return n.searchParams.set("lang",t),n.href}getHrefLangUrls(e){return this.locales.reduce((t,n)=>(t[n]=this._getHrefLangForLang(e,n),t),{})}getDefaultHrefLangUrl(e){return this._getHrefLangForLang(e,ze.a)}getCanonicalUrl(e){const t=Ye(e);return(e=>{try{const t=We[e.pathname];e.searchParams.forEach((e,n,s)=>{t&&!1!==t.includes(n)||s.delete(n)})}catch(e){}})(t),t.hostname=t.hostname===Xe.a?Xe.a:Xe.b,t.href.toLowerCase()}}(ze.c);class Ge extends x.PureComponent{render(){let e;Ke.canUseDOM&&(e=window.location.href);const t=e?{canonical:Ve.getCanonicalUrl(e)}:null;return t?x.createElement(Fe.a,Ne()({},t,{extend:!0})):null}}var Je=Object(M.a)(Ge);n("IAdD");var Ze=Object(A.a)().propsFromState(()=>({loginReturnPath:K.h})).withAnalytics({component:"smartlock_prompt"}),$e=n("6oVL"),Qe=n("SrIh"),et=n("BnI0"),tt=n("pQ3Z"),nt=n.n(tt),st=n("3xO4"),ot=n.n(st);n("aWzz");const it=["/settings","/signup","/login/error","/i/flow/signup","/login/check"];class rt extends x.Component{constructor(e,t){super(e,t),this.state={autoSubmit:!1,password:"",smartLockDisabled:!1,userName:""},this._smartLockSupported=!!(window.PasswordCredential&&navigator.credentials&&navigator.credentials.get)&&!t.loggedInUserId,this._isSmartLockDisabledFromCookie="1"===e.getCookie(Re.t)}componentDidMount(){"/login/error"===this.props.location.pathname?Object(et.a)():this._checkShouldDisplayPrompt()}componentDidUpdate(e){nt()(e.location,this.props.location)||this._checkShouldDisplayPrompt()}render(){const{loginReturnPath:e}=this.props,{autoSubmit:t,password:n,userName:s}=this.state;return this._shouldDisplaySmartLockPrompt()?x.createElement(ot.a,{style:at.hidden},x.createElement($e.a,{autoSubmit:t,loginReturnPath:e},x.createElement("input",{name:"session[username_or_email]",type:"hidden",value:s}),x.createElement("input",{name:"session[password]",type:"hidden",value:n}))):null}_scribeAction(e,t){const{analytics:n}=this.props;n.scribe(Object.assign({},t,{action:e}))}_checkShouldDisplayPrompt(){const{location:{pathname:e}}=this.props,{smartLockDisabled:t}=this.state;if(this._shouldDisplaySmartLockPrompt()){this._scribeAction("impression");const n=(t||this._isSmartLockDisabledFromCookie)&&"/login"===e?"required":"optional";let s=!0;setTimeout(()=>s=!1,250),navigator.credentials.get({mediation:n,password:!0}).then(e=>{if(e){s?this._scribeAction("select",{element:"unmediated"}):this._scribeAction("select",{element:"mediated"});const{id:t,password:n}=e;this.setState({autoSubmit:!0,userName:t,password:n})}else this._smartLockSupported&&this.setState({smartLockDisabled:!0},et.a),s?this._scribeAction("cancel",{element:"no_credentials"}):this._scribeAction("cancel",{element:"with_credentials"})},e=>{e&&"NotSupportedError"!==e.name&&"NotAllowedError"!==e.name&&"InvalidStateError"!==e.name&&Object(Qe.a)(e)})}}_shouldDisplaySmartLockPrompt(e=this.props){const{loggedInUserId:t}=this.context,{location:{pathname:n}}=e,{smartLockDisabled:s}=this.state,o="/login"===n||!this._isSmartLockDisabledFromCookie&&!s&&!it.some(e=>e===n);return!t&&this._smartLockSupported&&o}}r()(rt,"contextType",j.a),r()(rt,"defaultProps",{getCookie:je.a});const at=ae.a.create(e=>({hidden:{display:"none"}}));var ct=Object(M.a)(Ze(rt)),ht=n("1YZw"),lt=Object(A.a)().propsFromState(()=>({toast:ht.d})).propsFromActions(()=>({onClose:ht.c})),ut=(n("Ysgh"),n("HPNB")),pt=n("w0zD"),dt="toast",mt=n("0FVZ"),ft=n("Oe3h"),bt=n("cHvH"),gt=n("PARX"),_t=n.n(gt);class vt extends x.Component{constructor(...e){super(...e),r()(this,"_renderAriaOnly",()=>{const{text:e}=this.props;return x.createElement(ot.a,{accessibilityRole:"alert",style:ae.a.visuallyHidden,testID:dt},x.createElement(_t.a,null,e))}),r()(this,"_renderContent",({windowWidth:e})=>{const{text:t,withAutoDismiss:n,withClearButton:s}=this.props,o=ut.a.shouldRenderAsModal(e)?mt.a.ModalToasts:mt.a.Toasts;return x.createElement(o,null,x.createElement(ie.a,null,x.createElement(ft.a,null,(o,i)=>x.createElement(ot.a,Ne()({ref:o()},i({accessibilityRole:"alert",style:[yt.root,e>ae.a.theme.breakpoints.medium&&yt.rootWide],testID:dt})),x.createElement(re.c,{color:"whiteOnColor",style:yt.titleText},t),x.createElement(ot.a,{importantForAccessibility:n?"no-hide-descendants":"yes",style:yt.actionButtons},this._renderActionLabel(),s&&x.createElement(pt.a,{onClose:this._handleClose,style:yt.closeButton}))))))}),r()(this,"_createTimer",()=>{const{actionLabel:e,autoDismissDelay:t,onClose:n,text:s,withAutoDismiss:o}=this.props;if(o){const o=t||vt.calculateDismissDelay(s,!!e);this._dismissTimer=new Y.b(o).timeout(n),this._dismissTimer.start()}}),r()(this,"_handleActionPress",e=>{this._stopTimer();const{onAction:t,onClose:n}=this.props;t&&t(e),n(e)}),r()(this,"_handleClose",e=>{this._stopTimer(),this.props.onClose(e)})}componentDidMount(){this._createTimer()}componentWillUnmount(){this._stopTimer()}render(){return this.props.ariaOnly?this._renderAriaOnly():x.createElement(bt.a,null,this._renderContent)}_renderActionLabel(){const{actionLabel:e,actionLink:t}=this.props;if(e)return x.createElement(re.c,{children:e,color:"whiteOnColor",link:t,onClick:this._handleActionPress,style:[yt.actionText,!t&&yt.actionMargin],weight:"bold",withInteractiveStyling:!0})}static calculateDismissDelay(e,t){const n=1e3*e.split(" ").length/5+225;return(n<4e3?4e3:n)+(t?2e3:0)}_stopTimer(){this._dismissTimer&&this._dismissTimer.stop()}}r()(vt,"defaultProps",{withAutoDismiss:!0,withClearButton:!1});const yt=ae.a.create(e=>({root:{alignItems:"center",backgroundColor:e.colors.primary,flexDirection:"row",justifyContent:"space-between",padding:e.spaces.xSmall},rootWide:{alignSelf:"center",borderRadius:e.borderRadii.medium,marginBottom:e.spaces.large},titleText:{flexShrink:1,paddingHorizontal:e.spaces.xSmall},actionText:{whiteSpace:"nowrap",marginRight:e.spaces.xSmall},actionButtons:{flexDirection:"row"},actionMargin:{marginHorizontal:e.spaces.xSmall},closeButton:{marginLeft:e.spaces.xSmall,paddingHorizontal:e.spaces.xxSmall}}));var St=vt;var wt=lt(({onClose:e,toast:t})=>t?x.createElement(St,{actionLabel:t.actionLabel,actionLink:t.actionLink,ariaOnly:t.ariaOnly,autoDismissDelay:t.autoDismissDelay,key:t.id,onAction:t.onAction,onClose:e,text:t.text,withAutoDismiss:t.withAutoDismiss,withClearButton:t.withClearButton}):null);const Et=s,kt=Q.a,Tt=le,Ot=pe.a,Ct=Oe,It=Ce.a,Pt=ct,xt=Je,At=wt,Lt=o,Dt=J,Rt=function(e,t){const n=Object.keys(e);let s,o=!1;const i=()=>{o||(s=$()(t),n.forEach(t=>{return s.bind(t,(n=e[t],e=>{e.preventDefault(),e.stopPropagation(),n(e)}));var n}))};return w(i,[h,l]),()=>{o=!0,k(i),s&&s.unbind(n)}},jt=me,Ut=Ie,Mt=Ae,Bt=Me,Nt=ue.c,Kt=P,qt=N},rRIm:function(e,t,n){"use strict";n.d(t,"b",(function(){return C}));n("IAdD"),n("LJOr"),n("kYxP");var s=n("KEM+"),o=n.n(s),i=n("ERkP"),r=n("sTyV"),a=n("rxPX"),c=n("G6rE"),h=Object(a.a)().propsFromState(()=>({loggedInUser:c.e.selectLoggedInUser})).adjustStateProps(({loggedInUser:e})=>({loggedInUserScreenName:e?e.screen_name:void 0})),l=n("3XMw"),u=n.n(l),p=n("V/Zl"),d=n("OrGc"),m=n("QK5w"),f=n("aITJ"),b=n("3xO4"),g=n.n(b),_=n("TnY3"),v=n("rHpw"),y=n("t62R"),S=n("uScj"),w=n("BcsE");n("aWzz");const E=u.a.b47e760d,k=u.a.fd2c7b43,T=new S.a,O=e=>{if(e.target instanceof HTMLInputElement){const t=e.target.tagName.toLowerCase();return"input"===t||"textarea"===t}return!1},C=e=>T.subscribe(e).unsubscribe;class I extends i.Component{constructor(...e){super(...e),o()(this,"_bindKeyboardShortcuts",()=>{const{history:e,loggedInUserScreenName:t}=this.props,n=t=>n=>{n.preventDefault(),T._listeners.length?T.notify(t):e.push({pathname:"/explore",state:{searchFocused:!0,searchPrefill:t}})},s={[d.d.search]:n(),[d.d.goToUser]:n("@"),[d.d.openKeyboardShortcuts]:()=>e.push("/i/keyboard_shortcuts"),[d.d.goExplore]:()=>e.push("/explore"),[d.d.goSettings]:()=>e.push("/settings")},o=t?{[d.d.goProfile]:()=>e.push("/"+t),[d.d.goLikes]:()=>e.push("/"+t+"/likes"),[d.d.goLists]:()=>e.push("/"+t+"/lists")}:{},i=Object.assign({},s,o,{[d.d.goHome]:()=>e.push("/home"),[d.d.goDisplay]:()=>e.push("/i/display"),[d.d.goNotifications]:()=>e.push("/notifications"),[d.d.goMentions]:()=>e.push("/notifications/mentions"),[d.d.goMessages]:()=>e.push("/messages"),[d.d.newMessage]:()=>e.push("/messages/compose"),[d.d.newTweet]:()=>e.push("/compose/tweet"),[d.d.goBookmarks]:()=>e.push("/i/bookmarks")}),a=this.props.loggedInUserScreenName?i:s;this._unbindKeyboardShortcuts=Object(r.a)(a)}),o()(this,"_handleKeyDown",e=>{O(e)||"Backspace"!==e.key||(this._backspaceDown=Date.now(),e.preventDefault(),e.stopPropagation())}),o()(this,"_handleKeyUp",e=>{if(!O(e)&&"Backspace"===e.key){e.preventDefault(),e.stopPropagation();const t=this._backspaceDown,n=!!Object(w.a)(t)&&Date.now()-t<500,s=Object(m.a)({},{location:this.props.location});n&&s?this.props.history.goBack():window.close()}})}componentDidMount(){this._bindKeyboardShortcuts(),f.a.isKaiOS()&&Object(p.a)()&&(document.addEventListener("keydown",this._handleKeyDown),document.addEventListener("keyup",this._handleKeyUp))}componentWillUnmount(){this._unbindKeyboardShortcuts&&this._unbindKeyboardShortcuts(),f.a.isKaiOS()&&Object(p.a)()&&(document.removeEventListener("keydown",this._handleKeyDown),document.removeEventListener("keyup",this._handleKeyUp))}render(){return this.props.loggedInUserScreenName?i.createElement(g.a,{accessibilityRole:"heading","aria-level":"2",style:v.a.visuallyHidden},i.createElement(y.c,null,E),i.createElement(y.c,{importantForAccessibility:"no",link:"/i/keyboard_shortcuts"},k)):null}}const P=h(I);t.a=Object(_.a)(P)},"s+nu":function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},w0zD:function(e,t,n){"use strict";var s=n("KEM+"),o=n.n(s),i=n("ERkP"),r=n("/yvb"),a=n("3XMw"),c=n.n(a),h=n("l2F/"),l=n.n(h);const u=c.a.ia5e7487;class p extends i.PureComponent{render(){const{ariaLabel:e,closeIcon:t,color:n,disabled:s,onClose:o,isOnMedia:a,size:c,style:h}=this.props,p=t||i.createElement(l.a,null);return i.createElement(r.a,{accessibilityLabel:e||u,borderColor:"transparent",color:n,disabled:s,icon:p,onPress:o,size:c,style:h,type:a?"onMedia":void 0})}}o()(p,"defaultProps",{color:"white",disabled:!1,size:"normal"}),t.a=p},yt7X:function(e,t,n){"use strict";n("kYxP");var s=n("KEM+"),o=n.n(s),i=n("ERkP"),r=n("rxPX"),a=n("RqPI"),c=Object(r.a)().propsFromState(()=>({currentCountry:a.k})),h=n("s9SB"),l=n.n(h),u=n("6/RC"),p=n.n(u),d=n("wrlS"),m=n("3xO4"),f=n.n(m),b=n("t62R"),g=n("cHvH"),_=n("rHpw"),v=n("mw9i"),y=n("/yvb"),S=n("3XMw"),w=n.n(S),E=n("cnVF");const k=(e,t,n)=>{const s=e.indexOf(t.toLowerCase())>-1,o=n[E.i];return s&&"1"!==o},T=w.a.ia5e7487;class O extends i.Component{constructor(...e){super(...e),o()(this,"state",{euWarningIsOpen:!1}),o()(this,"_renderMessage",()=>i.createElement(b.c,{color:"white",size:"small"},i.createElement(w.a.I18NFormatMessage,{$i18n:"i3c34582"},i.createElement(b.c,{color:"white",link:"https://help.twitter.com/rules-and-policies/twitter-cookies",style:C.link},w.a.fd0ff73b)))),o()(this,"_handleEUBannerClose",()=>{p.a.canUseDOM&&(document.cookie=l.a.serialize(E.i,"1",{maxAge:31536e3,path:"/",domain:".twitter.com",secure:!0})),this.setState({euWarningIsOpen:!1})})}componentDidMount(){const{currentCountry:e}=this.props,t=d.a.getArrayValue("responsive_web_eu_countries",[]),n=p.a.canUseDOM?l.a.parse(document.cookie):{};this.setState({euWarningIsOpen:!!e&&k(t,e,n)})}render(){return this.state.euWarningIsOpen?i.createElement(g.a,null,({windowWidth:e})=>{const t=e<_.a.theme.breakpoints.medium;return i.createElement(f.a,{style:[C.root,t&&C.rootNarrow]},i.createElement(v.a,{isLarge:!0,style:[C.container]},this._renderMessage()),i.createElement(y.a,{onPress:this._handleEUBannerClose,size:"normalCompact",style:[C.closeButton,t&&C.closeButtonNarrow],type:"invertedSecondary"},T))}):null}}const C=_.a.create(e=>({root:{alignItems:"center",backgroundColor:e.colors.deepGray,boxShadow:e.boxShadows.medium,flexDirection:"row",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,width:"100%"},rootNarrow:{flexDirection:"column"},container:{alignItems:"center",flexShrink:1},closeButton:{marginLeft:e.spaces.xSmall,marginTop:0,flexGrow:0,flexShrink:0},closeButtonNarrow:{marginLeft:0,marginTop:e.spaces.xSmall,width:"100%"},link:{textDecorationLine:"underline"}})),I=c(O);t.a=I}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.AppModules.bd3ba445.js.map